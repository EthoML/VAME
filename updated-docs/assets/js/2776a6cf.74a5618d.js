"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[843],{8984:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>o});var s=i(4848),l=i(8453);const r={sidebar_label:"umap",title:"analysis.umap"},d=void 0,t={id:"reference/analysis/umap",title:"analysis.umap",description:"logger\\_config",source:"@site/docs/reference/analysis/umap.md",sourceDirName:"reference/analysis",slug:"/reference/analysis/umap",permalink:"/VAME/docs/reference/analysis/umap",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{sidebar_label:"umap",title:"analysis.umap"},sidebar:"docsSidebar",previous:{title:"tree_hierarchy",permalink:"/VAME/docs/reference/analysis/tree_hierarchy"},next:{title:"videowriter",permalink:"/VAME/docs/reference/analysis/videowriter"}},a={},o=[{value:"logger_config",id:"logger_config",level:4},{value:"logger",id:"logger",level:4},{value:"umap_embedding",id:"umap_embedding",level:4},{value:"umap_vis",id:"umap_vis",level:4},{value:"umap_label_vis",id:"umap_label_vis",level:4},{value:"umap_vis_comm",id:"umap_vis_comm",level:4},{value:"visualization",id:"visualization",level:4}];function c(n){const e={code:"code",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h4,{id:"logger_config",children:"logger_config"}),"\n",(0,s.jsx)(e.h4,{id:"logger",children:"logger"}),"\n",(0,s.jsx)(e.h4,{id:"umap_embedding",children:"umap_embedding"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"def umap_embedding(\n        cfg: dict, session: str, model_name: str, n_clusters: int,\n        segmentation_algorithm: SegmentationAlgorithms) -> np.ndarray\n"})}),"\n",(0,s.jsx)(e.p,{children:"Perform UMAP embedding for given file and parameters."}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"cfg"})," (",(0,s.jsx)(e.code,{children:"dict"}),"): Configuration parameters."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"session"})," (",(0,s.jsx)(e.code,{children:"str"}),"): Session name."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"model_name"})," (",(0,s.jsx)(e.code,{children:"str"}),"): Model name."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"n_clusters"})," (",(0,s.jsx)(e.code,{children:"int"}),"): Number of clusters."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"segmentation_algorithm"})," (",(0,s.jsx)(e.code,{children:"str"}),"): Segmentation algorithm."]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"np.ndarray"}),": UMAP embedding."]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"umap_vis",children:"umap_vis"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"def umap_vis(embed: np.ndarray, num_points: int) -> plt.Figure\n"})}),"\n",(0,s.jsx)(e.p,{children:"Visualize UMAP embedding without labels."}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"embed"})," (",(0,s.jsx)(e.code,{children:"np.ndarray"}),"): UMAP embedding."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"num_points"})," (",(0,s.jsx)(e.code,{children:"int"}),"): Number of data points to visualize."]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"plt.Figure"}),": Plot Visualization of UMAP embedding."]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"umap_label_vis",children:"umap_label_vis"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"def umap_label_vis(embed: np.ndarray, label: np.ndarray,\n                   num_points: int) -> plt.Figure\n"})}),"\n",(0,s.jsx)(e.p,{children:"Visualize UMAP embedding with motif labels."}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"embed"})," (",(0,s.jsx)(e.code,{children:"np.ndarray"}),"): UMAP embedding."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"label"})," (",(0,s.jsx)(e.code,{children:"np.ndarray"}),"): Motif labels."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"num_points"})," (",(0,s.jsx)(e.code,{children:"int"}),"): Number of data points to visualize."]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"plt.Figure"}),": Plot figure of UMAP visualization embedding with motif labels."]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"umap_vis_comm",children:"umap_vis_comm"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"def umap_vis_comm(embed: np.ndarray, community_label: np.ndarray,\n                  num_points: int) -> plt.Figure\n"})}),"\n",(0,s.jsx)(e.p,{children:"Visualize UMAP embedding with community labels."}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"embed"})," (",(0,s.jsx)(e.code,{children:"np.ndarray"}),"): UMAP embedding."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"community_label"})," (",(0,s.jsx)(e.code,{children:"np.ndarray"}),"): Community labels."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"num_points"})," (",(0,s.jsx)(e.code,{children:"int"}),"): Number of data points to visualize."]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"plt.Figure"}),": Plot figure of UMAP visualization embedding with community labels."]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"visualization",children:"visualization"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"@save_state(model=VisualizationFunctionSchema)\ndef visualization(config: dict,\n                  segmentation_algorithm: SegmentationAlgorithms,\n                  label: Optional[str] = None,\n                  save_logs: bool = False) -> None\n"})}),"\n",(0,s.jsx)(e.p,{children:'Visualize UMAP embeddings based on configuration settings.\nFills in the values in the "visualization" key of the states.json file.\nSaves results files at:'}),"\n",(0,s.jsx)(e.p,{children:"If label is None (UMAP visualization without labels):"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["project_name/","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["results/","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["file_name/","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["model_name/","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["segmentation_algorithm-n_clusters/","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["community/","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"umap_embedding_file_name.npy"}),"\n",(0,s.jsx)(e.li,{children:"umap_vis_label_none_file_name.png  (UMAP visualization without labels)"}),"\n",(0,s.jsx)(e.li,{children:"umap_vis_motif_file_name.png  (UMAP visualization with motif labels)"}),"\n",(0,s.jsx)(e.li,{children:"umap_vis_community_file_name.png  (UMAP visualization with community labels)"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"config"})," (",(0,s.jsx)(e.code,{children:"dict"}),"): Configuration parameters."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"segmentation_algorithm"})," (",(0,s.jsx)(e.code,{children:"SegmentationAlgorithms"}),"): Which segmentation algorithm to use. Options are 'hmm' or 'kmeans'."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"label"})," (",(0,s.jsx)(e.code,{children:"str, optional"}),"): Type of labels to visualize. Options are None, 'motif' or 'community'. Default is None."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"save_logs"})," (",(0,s.jsx)(e.code,{children:"bool, optional"}),"): Save logs to file. Default is False."]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"None"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>d,x:()=>t});var s=i(6540);const l={},r=s.createContext(l);function d(n){const e=s.useContext(r);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:d(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);